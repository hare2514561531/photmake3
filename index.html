<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è­¦å ±ç”»åƒä½œæˆãƒ„ãƒ¼ãƒ«</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        /* ãƒªã‚»ãƒƒãƒˆã¨ãƒ™ãƒ¼ã‚¹ã‚¹ã‚¿ã‚¤ãƒ« */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e0f2fe 50%, #e0e7ff 100%);
            min-height: 100vh;
            color: #334155;
        }

        .app {
            min-height: 100vh;
        }

        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
        .nav-tabs {
            background: white;
            border-bottom: 1px solid #e2e8f0;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 0 2rem;
            display: flex;
            gap: 0;
        }

        .nav-tab {
            background: none;
            border: none;
            padding: 1rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            color: #64748b;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-tab:hover {
            color: #3b82f6;
            background: #f1f5f9;
        }

        .nav-tab.active {
            color: white;
            background: linear-gradient(135deg, #3b82f6, #6366f1);
            border-bottom-color: #1d4ed8;
        }

        /* ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* ã‚³ãƒ³ãƒ†ãƒŠ */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        .header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(135deg, #1e293b, #1e40af, #4338ca);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .header p {
            font-size: 1.25rem;
            color: #64748b;
            max-width: 600px;
            margin: 0 auto 1rem;
        }

        .badge {
            display: inline-block;
            background: #e2e8f0;
            color: #475569;
            padding: 0.5rem 1rem;
            border-radius: 1rem;
            font-size: 0.875rem;
            font-weight: 500;
        }

        /* ãƒ¡ã‚¤ãƒ³ã‚°ãƒªãƒƒãƒ‰ */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
            align-items: start;
        }

        @media (max-width: 1200px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }

        /* è¨­å®šãƒ‘ãƒãƒ« */
        .settings-panel {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        /* ã‚¿ãƒ– */
        .tabs {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .tab-list {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            background: white;
            border-bottom: 1px solid #e2e8f0;
        }

        .tab-button {
            background: none;
            border: none;
            padding: 1rem;
            font-size: 0.875rem;
            font-weight: 600;
            color: #64748b;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .tab-button:hover {
            background: #f1f5f9;
        }

        .tab-button.active {
            background: linear-gradient(135deg, #3b82f6, #6366f1);
            color: white;
        }

        .tab-panel {
            display: none;
            padding: 0;
        }

        .tab-panel.active {
            display: block;
        }

        /* ã‚«ãƒ¼ãƒ‰ */
        .card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .card-header {
            background: linear-gradient(135deg, #f8fafc, #f1f5f9);
            padding: 1.5rem;
            border-bottom: 1px solid #e2e8f0;
        }

        .card-header h3 {
            color: #1e293b;
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card-header p {
            color: #64748b;
            font-size: 0.875rem;
        }

        .card-content {
            padding: 1.5rem;
        }

        /* ãƒ•ã‚©ãƒ¼ãƒ  */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group:last-child {
            margin-bottom: 0;
        }

        label {
            display: block;
            font-size: 0.875rem;
            font-weight: 600;
            color: #374151;
            margin-bottom: 0.5rem;
        }

        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e2e8f0;
            border-radius: 0.5rem;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

        .form-control:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        textarea.form-control {
            resize: vertical;
            min-height: 80px;
        }

        .color-input-group {
            display: flex;
            gap: 0.75rem;
        }

        .color-input-group input[type="color"] {
            width: 4rem;
            height: 3rem;
            padding: 0.25rem;
            border: 2px solid #e2e8f0;
            border-radius: 0.5rem;
            cursor: pointer;
        }

        .help-text {
            font-size: 0.75rem;
            color: #64748b;
            background: #f8fafc;
            padding: 0.75rem;
            border-radius: 0.5rem;
            margin-top: 0.5rem;
        }

        /* ãƒœã‚¿ãƒ³ */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            white-space: nowrap;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3b82f6, #6366f1);
            color: white;
            box-shadow: 0 4px 14px rgba(59, 130, 246, 0.3);
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #2563eb, #4f46e5);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
            transform: translateY(-1px);
        }

        .btn-outline {
            background: white;
            color: #3b82f6;
            border: 2px solid #e2e8f0;
        }

        .btn-outline:hover {
            border-color: #3b82f6;
            background: #f0f9ff;
        }

        .btn-large {
            width: 100%;
            padding: 1rem 1.5rem;
            font-size: 1.125rem;
        }

        .btn-danger {
            color: #dc2626;
        }

        .btn-danger:hover {
            background: #fef2f2;
            border-color: #dc2626;
        }

        /* SNSãƒœã‚¿ãƒ³ */
        .btn-twitter {
            background: #1da1f2;
            color: white;
        }

        .btn-facebook {
            background: #4267b2;
            color: white;
        }

        .btn-line {
            background: #00b900;
            color: white;
        }

        /* ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‘ãƒãƒ« */
        .preview-panel .card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }

        .canvas-container {
            border: 2px solid #e2e8f0;
            border-radius: 0.75rem;
            overflow: hidden;
            background: white;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        #alert-canvas {
            width: 100%;
            height: auto;
            display: block;
        }

        .canvas-info {
            display: flex;
            justify-content: space-between;
            margin-top: 1rem;
            font-size: 0.875rem;
            color: #64748b;
        }

        /* ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ */
        .login-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .login-card {
            width: 100%;
            max-width: 400px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 1rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .login-header {
            text-align: center;
            background: linear-gradient(135deg, #f8fafc, #f1f5f9);
            padding: 2rem;
        }

        .login-icon {
            width: 4rem;
            height: 4rem;
            background: linear-gradient(135deg, #3b82f6, #6366f1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            color: white;
            font-size: 2rem;
        }

        .login-header h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 0.5rem;
        }

        .login-header p {
            color: #64748b;
            font-size: 0.875rem;
        }

        .login-content {
            padding: 2rem;
        }

        .password-input {
            position: relative;
        }

        .password-toggle {
            position: absolute;
            right: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #64748b;
            cursor: pointer;
            padding: 0.25rem;
        }

        .demo-info {
            margin-top: 1.5rem;
            padding: 1rem;
            background: #dbeafe;
            border-radius: 0.5rem;
        }

        .demo-info p {
            font-size: 0.875rem;
            color: #1e40af;
            margin-bottom: 0.25rem;
        }

        .demo-info .small {
            font-size: 0.75rem;
            color: #3b82f6;
        }

        /* ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ */
        .dashboard-container {
            min-height: 100vh;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 2rem;
            gap: 2rem;
        }

        .dashboard-header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #1e293b, #64748b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .dashboard-header p {
            color: #64748b;
            margin-top: 0.5rem;
        }

        .header-actions {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        /* çµ±è¨ˆã‚«ãƒ¼ãƒ‰ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            border-radius: 1rem;
            padding: 1.5rem;
            color: white;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .stat-blue {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
        }

        .stat-green {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .stat-purple {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
        }

        .stat-orange {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }

        .stat-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .stat-info p {
            font-size: 0.875rem;
            opacity: 0.8;
            margin-bottom: 0.5rem;
        }

        .stat-info h3 {
            font-size: 2rem;
            font-weight: 700;
        }

        .stat-content i {
            font-size: 2rem;
            opacity: 0.6;
        }

        .stat-footer {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            font-size: 0.875rem;
            opacity: 0.8;
        }

        /* æ¤œç´¢ */
        .search-container {
            margin-bottom: 2rem;
        }

        .search-input {
            position: relative;
            max-width: 500px;
        }

        .search-input i {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: #64748b;
        }

        .search-input input {
            padding-left: 2.5rem;
            padding-right: 2.5rem;
        }

        .clear-btn {
            position: absolute;
            right: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #64748b;
            cursor: pointer;
            padding: 0.25rem;
        }

        /* ç®¡ç†ã‚¿ãƒ– */
        .admin-tabs {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .admin-tab-list {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            background: white;
            border-bottom: 1px solid #e2e8f0;
        }

        .admin-tab {
            background: none;
            border: none;
            padding: 1rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            color: #64748b;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .admin-tab:hover {
            background: #f1f5f9;
        }

        .admin-tab.active {
            background: linear-gradient(135deg, #3b82f6, #6366f1);
            color: white;
        }

        .admin-tab-panel {
            display: none;
            padding: 2rem;
        }

        .admin-tab-panel.active {
            display: block;
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .panel-header h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e293b;
        }

        /* ãƒ†ãƒ¼ãƒ–ãƒ« */
        .table-container {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 1rem;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th {
            background: #f8fafc;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            color: #374151;
            border-bottom: 1px solid #e2e8f0;
        }

        .data-table td {
            padding: 1rem;
            border-bottom: 1px solid #e2e8f0;
            color: #1e293b;
        }

        .data-table tr:hover {
            background: rgba(248, 250, 252, 0.5);
        }

        .data-table .actions {
            display: flex;
            gap: 0.5rem;
        }

        .data-table .btn {
            padding: 0.5rem;
            min-width: 2rem;
            height: 2rem;
        }

        /* ãƒãƒƒã‚¸ */
        .status-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-active {
            background: #dcfce7;
            color: #166534;
        }

        .status-draft {
            background: #f1f5f9;
            color: #475569;
        }

        .status-archived {
            background: #fef3c7;
            color: #92400e;
        }

        .role-admin {
            background: #fecaca;
            color: #991b1b;
        }

        .role-editor {
            background: #dbeafe;
            color: #1e40af;
        }

        .role-viewer {
            background: #f1f5f9;
            color: #475569;
        }

        /* è¨­å®šã‚°ãƒªãƒƒãƒ‰ */
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
        }

        /* ãƒ¢ãƒ¼ãƒ€ãƒ« */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            backdrop-filter: blur(4px);
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .modal-content {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            border-bottom: 1px solid #e2e8f0;
        }

        .modal-header h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1e293b;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #64748b;
            cursor: pointer;
            padding: 0.25rem;
            line-height: 1;
        }

        .modal-body {
            padding: 1.5rem;
        }

        /* å…±æœ‰ãƒœã‚¿ãƒ³ */
        .share-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .share-info {
            font-size: 0.875rem;
            color: #64748b;
            background: #f8fafc;
            padding: 0.75rem;
            border-radius: 0.5rem;
            text-align: center;
        }

        /* ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ */
        #toast-container {
            position: fixed;
            top: 2rem;
            right: 2rem;
            z-index: 2000;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .toast {
            background: white;
            border-radius: 0.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 1rem 1.5rem;
            border-left: 4px solid #10b981;
            min-width: 300px;
            animation: slideIn 0.3s ease;
        }

        .toast.error {
            border-left-color: #dc2626;
        }

        .toast-title {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 0.25rem;
        }

        .toast-message {
            font-size: 0.875rem;
            color: #64748b;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .header h1 {
                font-size: 2rem;
            }

            .dashboard-header {
                flex-direction: column;
                align-items: stretch;
            }

            .header-actions {
                justify-content: stretch;
            }

            .header-actions .btn {
                flex: 1;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .admin-tab-list {
                grid-template-columns: 1fr;
            }

            .settings-grid {
                grid-template-columns: 1fr;
            }

            .share-buttons {
                grid-template-columns: 1fr;
            }

            .table-container {
                overflow-x: auto;
            }

            .data-table {
                min-width: 600px;
            }
        }

        @media (max-width: 480px) {
            .nav-tabs {
                padding: 0 1rem;
            }

            .nav-tab {
                padding: 0.75rem 1rem;
                font-size: 0.875rem;
            }

            .modal-content {
                margin: 1rem;
                max-width: calc(100% - 2rem);
            }

            #toast-container {
                top: 1rem;
                right: 1rem;
                left: 1rem;
            }

            .toast {
                min-width: auto;
            }
        }
    </style>
</head>
<body>
    <div class="app">
        <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <nav class="nav-tabs">
            <button class="nav-tab active" data-tab="generator">
                <i class="fas fa-image"></i>
                ç”»åƒä½œæˆ
            </button>
            <button class="nav-tab" data-tab="admin">
                <i class="fas fa-shield-alt"></i>
                ç®¡ç†ç”»é¢
            </button>
        </nav>

        <!-- ç”»åƒä½œæˆã‚¿ãƒ– -->
        <div id="generator" class="tab-content active">
            <div class="container">
                <div class="header">
                    <h1>è­¦å ±ç”»åƒä½œæˆãƒ„ãƒ¼ãƒ«</h1>
                    <p>ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªè­¦å ±ç”»åƒã‚’ç°¡å˜ã«ä½œæˆã€‚åœ°åã®è‡ªå‹•æ”¹è¡Œæ©Ÿèƒ½ä»˜ãã€‚</p>
                    <span class="badge">Professional Edition</span>
                </div>

                <div class="main-grid">
                    <!-- è¨­å®šãƒ‘ãƒãƒ« -->
                    <div class="settings-panel">
                        <div class="tabs">
                            <div class="tab-list">
                                <button class="tab-button active" data-settings-tab="basic">
                                    <i class="fas fa-cog"></i>
                                    åŸºæœ¬
                                </button>
                                <button class="tab-button" data-settings-tab="design">
                                    <i class="fas fa-palette"></i>
                                    ãƒ‡ã‚¶ã‚¤ãƒ³
                                </button>
                                <button class="tab-button" data-settings-tab="text">
                                    <i class="fas fa-font"></i>
                                    ãƒ†ã‚­ã‚¹ãƒˆ
                                </button>
                            </div>

                            <!-- åŸºæœ¬è¨­å®š -->
                            <div id="basic" class="tab-panel active">
                                <div class="card">
                                    <div class="card-header">
                                        <h3><i class="fas fa-exclamation-triangle"></i> è­¦å ±è¨­å®š</h3>
                                        <p>è­¦å ±ã®ç¨®é¡ã‚’é¸æŠã™ã‚‹ã¨ã€é©åˆ‡ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè‡ªå‹•è¨­å®šã•ã‚Œã¾ã™</p>
                                    </div>
                                    <div class="card-content">
                                        <div class="form-group">
                                            <label for="alert-type">è­¦å ±ã®ç¨®é¡</label>
                                            <select id="alert-type" class="form-control">
                                                <option value="heavyRain">å¤§é›¨è­¦å ±</option>
                                                <option value="heavyRainSpecial" selected>å¤§é›¨ç‰¹åˆ¥è­¦å ±</option>
                                                <option value="flood">æ´ªæ°´è­¦å ±</option>
                                                <option value="storm">æš´é¢¨è­¦å ±</option>
                                                <option value="tsunami">æ´¥æ³¢è­¦å ±</option>
                                                <option value="tsunamiSpecial">å¤§æ´¥æ³¢è­¦å ±</option>
                                                <option value="earthquake">åœ°éœ‡è­¦å ±</option>
                                                <option value="fire">ç«ç½è­¦å ±</option>
                                                <option value="thunder">é›·è­¦å ±</option>
                                                <option value="volcano">ç«å±±è­¦å ±</option>
                                                <option value="heatwave">ç†±ä¸­ç—‡è­¦å ±</option>
                                                <option value="general">ä¸€èˆ¬è­¦å ±</option>
                                            </select>
                                        </div>

                                        <div class="form-group">
                                            <label for="target-area">å¯¾è±¡åœ°åŸŸ</label>
                                            <textarea id="target-area" class="form-control" rows="3" placeholder="å¯¾è±¡åœ°åŸŸã‚’å…¥åŠ›ï¼ˆæ”¹è¡Œã§è¤‡æ•°åœ°åŸŸã‚’æŒ‡å®šå¯èƒ½ï¼‰">åå¤å±‹å¸‚</textarea>
                                            <div class="help-text">
                                                ğŸ’¡ åœ°åã¯é©åˆ‡ãªä½ç½®ã§è‡ªå‹•æ”¹è¡Œã•ã‚Œã¾ã™ã€‚ã€Œæµœæ¾å¸‚ã€ãŒã€Œæµœã€ã¨ã€Œæ¾å¸‚ã€ã«åˆ†ã‹ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- ãƒ‡ã‚¶ã‚¤ãƒ³è¨­å®š -->
                            <div id="design" class="tab-panel">
                                <div class="card">
                                    <div class="card-header">
                                        <h3><i class="fas fa-palette"></i> è‰²è¨­å®š</h3>
                                        <p>èƒŒæ™¯è‰²ã¨æ–‡å­—è‰²ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™</p>
                                    </div>
                                    <div class="card-content">
                                        <div class="form-group">
                                            <label for="bg-color">èƒŒæ™¯è‰²</label>
                                            <div class="color-input-group">
                                                <input type="color" id="bg-color" value="#dc2626">
                                                <input type="text" id="bg-color-text" value="#dc2626" class="form-control">
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="text-color">æ–‡å­—è‰²</label>
                                            <div class="color-input-group">
                                                <input type="color" id="text-color" value="#ffffff">
                                                <input type="text" id="text-color-text" value="#ffffff" class="form-control">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- ãƒ†ã‚­ã‚¹ãƒˆè¨­å®š -->
                            <div id="text" class="tab-panel">
                                <div class="card">
                                    <div class="card-header">
                                        <h3><i class="fas fa-font"></i> ãƒ†ã‚­ã‚¹ãƒˆè¨­å®š</h3>
                                        <p>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã®è¨­å®š</p>
                                    </div>
                                    <div class="card-content">
                                        <div class="form-group">
                                            <label for="message">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</label>
                                            <textarea id="message" class="form-control" rows="3" placeholder="è­¦å ±ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ï¼ˆæ”¹è¡Œå¯èƒ½ï¼‰">å‘½ã‚’å®ˆã‚‹è¡Œå‹•ã‚’ï¼</textarea>
                                        </div>

                                        <div class="form-group">
                                            <label for="credit">ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆ</label>
                                            <input type="text" id="credit" class="form-control" placeholder="ç”»åƒåˆ¶ä½œè€…åã‚’å…¥åŠ›" value="ç”»åƒåˆ¶ä½œ: EWCç”»åƒåˆ¶ä½œéƒ¨">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button id="download-btn" class="btn btn-primary btn-large">
                            <i class="fas fa-download"></i>
                            é«˜å“è³ªç”»åƒã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
                        </button>

                        <button id="share-btn" class="btn btn-outline btn-large">
                            <i class="fas fa-share"></i>
                            ç”»åƒã‚’å…±æœ‰
                        </button>
                    </div>

                    <!-- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ -->
                    <div class="preview-panel">
                        <div class="card">
                            <div class="card-header">
                                <h3>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</h3>
                                <p>ä½œæˆã•ã‚Œã‚‹è­¦å ±ç”»åƒã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã™ï¼ˆæ¨ªå‘ãB4ã‚µã‚¤ã‚ºï¼‰</p>
                            </div>
                            <div class="card-content">
                                <div class="canvas-container">
                                    <canvas id="alert-canvas" width="2060" height="1456"></canvas>
                                </div>
                                <div class="canvas-info">
                                    <span>è§£åƒåº¦: 2060 Ã— 1456px</span>
                                    <span>å½¢å¼: PNG (é«˜å“è³ª)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ç®¡ç†ç”»é¢ã‚¿ãƒ– -->
        <div id="admin" class="tab-content">
            <!-- ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ -->
            <div id="admin-login" class="login-container">
                <div class="login-card">
                    <div class="login-header">
                        <div class="login-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h2>ç®¡ç†è€…èªè¨¼</h2>
                        <p>ç®¡ç†ç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™</p>
                    </div>
                    <div class="login-content">
                        <form id="login-form">
                            <div class="form-group">
                                <label for="admin-password">ç®¡ç†è€…ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
                                <div class="password-input">
                                    <input type="password" id="admin-password" class="form-control" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„" required>
                                    <button type="button" id="toggle-password" class="password-toggle">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary btn-large" id="login-btn">
                                ãƒ­ã‚°ã‚¤ãƒ³
                            </button>
                        </form>
                        <div class="demo-info">
                            <p><strong>ãƒ‡ãƒ¢ç”¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰:</strong> admin2024</p>
                            <p class="small">å®Ÿéš›ã®é‹ç”¨ã§ã¯å¼·åŠ›ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®šã—ã¦ãã ã•ã„</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ -->
            <div id="admin-dashboard" class="dashboard-container" style="display: none;">
                <div class="container">
                    <div class="dashboard-header">
                        <div>
                            <h1>ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>
                            <p>è­¦å ±ç”»åƒä½œæˆã‚·ã‚¹ãƒ†ãƒ ã®çµ±åˆç®¡ç†</p>
                        </div>
                        <div class="header-actions">
                            <button class="btn btn-outline" id="export-btn">
                                <i class="fas fa-file-export"></i>
                                ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
                            </button>
                            <button class="btn btn-outline" id="import-btn">
                                <i class="fas fa-file-import"></i>
                                ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
                            </button>
                            <input type="file" id="import-file" accept=".json" style="display: none;">
                            <button class="btn btn-outline btn-danger" id="logout-btn">
                                <i class="fas fa-sign-out-alt"></i>
                                ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
                            </button>
                        </div>
                    </div>

                    <!-- çµ±è¨ˆã‚«ãƒ¼ãƒ‰ -->
                    <div class="stats-grid">
                        <div class="stat-card stat-blue">
                            <div class="stat-content">
                                <div class="stat-info">
                                    <p>ç·ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ•°</p>
                                    <h3 id="total-templates">0</h3>
                                </div>
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="stat-footer">
                                <i class="fas fa-trending-up"></i>
                                <span>ã‚¢ã‚¯ãƒ†ã‚£ãƒ–: <span id="active-templates">0</span></span>
                            </div>
                        </div>

                        <div class="stat-card stat-green">
                            <div class="stat-content">
                                <div class="stat-info">
                                    <p>ç™»éŒ²ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°</p>
                                    <h3 id="total-users">0</h3>
                                </div>
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-footer">
                                <i class="fas fa-chart-line"></i>
                                <span>ç®¡ç†è€…: <span id="admin-users">0</span></span>
                            </div>
                        </div>

                        <div class="stat-card stat-purple">
                            <div class="stat-content">
                                <div class="stat-info">
                                    <p>ç·ä½¿ç”¨å›æ•°</p>
                                    <h3 id="total-usage">0</h3>
                                </div>
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            <div class="stat-footer">
                                <i class="fas fa-trending-up"></i>
                                <span>ä»Šæœˆã®ä½¿ç”¨</span>
                            </div>
                        </div>

                        <div class="stat-card stat-orange">
                            <div class="stat-content">
                                <div class="stat-info">
                                    <p>ä½œæˆç”»åƒæ•°</p>
                                    <h3 id="total-alerts">0</h3>
                                </div>
                                <i class="fas fa-download"></i>
                            </div>
                            <div class="stat-footer">
                                <i class="fas fa-trending-up"></i>
                                <span>ç·ä½œæˆæ•°</span>
                            </div>
                        </div>
                    </div>

                    <!-- æ¤œç´¢ãƒãƒ¼ -->
                    <div class="search-container">
                        <div class="search-input">
                            <i class="fas fa-search"></i>
                            <input type="text" id="search-input" placeholder="ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æ¤œç´¢...">
                            <button id="clear-search" class="clear-btn" style="display: none;">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>

                    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ãƒ– -->
                    <div class="admin-tabs">
                        <div class="admin-tab-list">
                            <button class="admin-tab active" data-admin-tab="templates">ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†</button>
                            <button class="admin-tab" data-admin-tab="users">ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†</button>
                            <button class="admin-tab" data-admin-tab="settings">ã‚·ã‚¹ãƒ†ãƒ è¨­å®š</button>
                        </div>

                        <!-- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç† -->
                        <div id="templates" class="admin-tab-panel active">
                            <div class="panel-header">
                                <h2>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†</h2>
                                <button class="btn btn-primary" id="add-template-btn">
                                    <i class="fas fa-plus"></i>
                                    æ–°è¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
                                </button>
                            </div>
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå</th>
                                            <th>ç¨®é¡</th>
                                            <th>ä½¿ç”¨å›æ•°</th>
                                            <th>æœ€çµ‚ä½¿ç”¨</th>
                                            <th>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
                                            <th>æ“ä½œ</th>
                                        </tr>
                                    </thead>
                                    <tbody id="templates-table">
                                        <!-- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ãŒã“ã“ã«æŒ¿å…¥ã•ã‚Œã¾ã™ -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç† -->
                        <div id="users" class="admin-tab-panel">
                            <div class="panel-header">
                                <h2>ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†</h2>
                                <button class="btn btn-primary" id="add-user-btn">
                                    <i class="fas fa-plus"></i>
                                    æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼
                                </button>
                            </div>
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>ãƒ¦ãƒ¼ã‚¶ãƒ¼å</th>
                                            <th>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</th>
                                            <th>æ¨©é™</th>
                                            <th>æœ€çµ‚ã‚¢ã‚¯ã‚»ã‚¹</th>
                                            <th>ä½œæˆæ•°</th>
                                            <th>æ“ä½œ</th>
                                        </tr>
                                    </thead>
                                    <tbody id="users-table">
                                        <!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ãŒã“ã“ã«æŒ¿å…¥ã•ã‚Œã¾ã™ -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- ã‚·ã‚¹ãƒ†ãƒ è¨­å®š -->
                        <div id="settings" class="admin-tab-panel">
                            <h2>ã‚·ã‚¹ãƒ†ãƒ è¨­å®š</h2>
                            <div class="settings-grid">
                                <div class="card">
                                    <div class="card-header">
                                        <h3>åŸºæœ¬è¨­å®š</h3>
                                        <p>ã‚·ã‚¹ãƒ†ãƒ ã®åŸºæœ¬çš„ãªè¨­å®š</p>
                                    </div>
                                    <div class="card-content">
                                        <div class="form-group">
                                            <label for="system-name">ã‚·ã‚¹ãƒ†ãƒ å</label>
                                            <input type="text" id="system-name" class="form-control" value="è­¦å ±ç”»åƒä½œæˆã‚·ã‚¹ãƒ†ãƒ ">
                                        </div>
                                        <div class="form-group">
                                            <label for="max-users">æœ€å¤§ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°</label>
                                            <input type="number" id="max-users" class="form-control" value="100">
                                        </div>
                                        <div class="form-group">
                                            <label for="storage-limit">ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸åˆ¶é™ (GB)</label>
                                            <input type="number" id="storage-limit" class="form-control" value="50">
                                        </div>
                                        <button class="btn btn-primary" id="save-basic-settings">
                                            <i class="fas fa-save"></i>
                                            è¨­å®šã‚’ä¿å­˜
                                        </button>
                                    </div>
                                </div>

                                <div class="card">
                                    <div class="card-header">
                                        <h3>é€šçŸ¥è¨­å®š</h3>
                                        <p>ã‚·ã‚¹ãƒ†ãƒ é€šçŸ¥ã®è¨­å®š</p>
                                    </div>
                                    <div class="card-content">
                                        <div class="form-group">
                                            <label for="email-notifications">ãƒ¡ãƒ¼ãƒ«é€šçŸ¥</label>
                                            <input type="email" id="email-notifications" class="form-control" value="admin@example.com">
                                        </div>
                                        <div class="form-group">
                                            <label for="alert-threshold">è­¦å‘Šé–¾å€¤</label>
                                            <input type="number" id="alert-threshold" class="form-control" value="1000">
                                        </div>
                                        <div class="form-group">
                                            <label for="backup-frequency">ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—é »åº¦</label>
                                            <input type="text" id="backup-frequency" class="form-control" value="æ¯æ—¥">
                                        </div>
                                        <button class="btn btn-primary" id="save-notification-settings">
                                            <i class="fas fa-save"></i>
                                            è¨­å®šã‚’ä¿å­˜
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¿ã‚¤ãƒˆãƒ«</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒã“ã“ã«æŒ¿å…¥ã•ã‚Œã¾ã™ -->
            </div>
        </div>
    </div>

    <!-- å…±æœ‰ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="share-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-share"></i> è­¦å ±ç”»åƒã‚’å…±æœ‰</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p>ä½œæˆã—ãŸè­¦å ±ç”»åƒã‚’æ§˜ã€…ãªæ–¹æ³•ã§å…±æœ‰ã§ãã¾ã™</p>
                <div class="share-buttons">
                    <button class="btn btn-twitter" id="share-twitter">
                        <i class="fab fa-twitter"></i>
                        Twitter
                    </button>
                    <button class="btn btn-facebook" id="share-facebook">
                        <i class="fab fa-facebook"></i>
                        Facebook
                    </button>
                    <button class="btn btn-line" id="share-line">
                        <i class="fab fa-line"></i>
                        LINE
                    </button>
                    <button class="btn btn-outline" id="share-email">
                        <i class="fas fa-envelope"></i>
                        ãƒ¡ãƒ¼ãƒ«
                    </button>
                </div>
                <div class="share-info">
                    ğŸ’¡ å…±æœ‰ã™ã‚‹ã¨ã€è­¦å ±ç”»åƒã®è¨­å®šæƒ…å ±ã‚‚ä¸€ç·’ã«é€ä¿¡ã•ã‚Œã¾ã™
                </div>
            </div>
        </div>
    </div>

    <!-- ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ -->
    <div id="toast-container"></div>

    <script>
        // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®çŠ¶æ…‹ç®¡ç†
        class AlertImageApp {
            constructor() {
                this.config = {
                    type: "heavyRainSpecial",
                    level: "danger",
                    message: "å‘½ã‚’å®ˆã‚‹è¡Œå‹•ã‚’ï¼",
                    targetArea: "åå¤å±‹å¸‚",
                    backgroundColor: "#dc2626",
                    textColor: "#ffffff",
                    credit: "ç”»åƒåˆ¶ä½œ: EWCç”»åƒåˆ¶ä½œéƒ¨",
                };

                this.alertTypes = {
                    heavyRain: { label: "å¤§é›¨è­¦å ±", color: "#dc2626", defaultMessage: "å‘½ã‚’å®ˆã‚‹è¡Œå‹•ã‚’ï¼" },
                    heavyRainSpecial: { label: "å¤§é›¨ç‰¹åˆ¥è­¦å ±", color: "#dc2626", defaultMessage: "å‘½ã‚’å®ˆã‚‹è¡Œå‹•ã‚’ï¼" },
                    flood: { label: "æ´ªæ°´è­¦å ±", color: "#2563eb", defaultMessage: "é€Ÿã‚„ã‹ã«å®‰å…¨ãªå ´æ‰€ã¸é¿é›£ã‚’ï¼" },
                    storm: { label: "æš´é¢¨è­¦å ±", color: "#7c3aed", defaultMessage: "å¤–å‡ºã‚’æ§ãˆã€é ‘ä¸ˆãªå»ºç‰©å†…ã«å¾…æ©Ÿã‚’ï¼" },
                    tsunami: { label: "æ´¥æ³¢è­¦å ±", color: "#0891b2", defaultMessage: "ç›´ã¡ã«é«˜å°ã¸é¿é›£ã‚’ï¼" },
                    tsunamiSpecial: { label: "å¤§æ´¥æ³¢è­¦å ±", color: "#0891b2", defaultMessage: "ç›´ã¡ã«é«˜å°ã¸é¿é›£ã‚’ï¼" },
                    earthquake: { label: "åœ°éœ‡è­¦å ±", color: "#ea580c", defaultMessage: "è½ã¡ç€ã„ã¦èº«ã®å®‰å…¨ã‚’ç¢ºä¿ã—ã¦ãã ã•ã„ï¼" },
                    fire: { label: "ç«ç½è­¦å ±", color: "#dc2626", defaultMessage: "ç›´ã¡ã«é¿é›£ã—ã¦ãã ã•ã„ï¼" },
                    thunder: { label: "é›·è­¦å ±", color: "#facc15", defaultMessage: "å»ºç‰©å†…ã«é¿é›£ã—ã¦ãã ã•ã„ï¼" },
                    volcano: { label: "ç«å±±è­¦å ±", color: "#dc2626", defaultMessage: "ç›´ã¡ã«å±é™ºåŒºåŸŸã‹ã‚‰é›¢ã‚Œã¦ãã ã•ã„ï¼" },
                    heatwave: { label: "ç†±ä¸­ç—‡è­¦å ±", color: "#f97316", defaultMessage: "æ°´åˆ†ã‚’ã“ã¾ã‚ã«å–ã‚Šã€æ¶¼ã—ã„å ´æ‰€ã§ä¼‘æ†©ã‚’ï¼" },
                    general: { label: "ä¸€èˆ¬è­¦å ±", color: "#dc2626", defaultMessage: "ä»Šå¾Œã®æƒ…å ±ã«æ³¨æ„ã—ã¦ãã ã•ã„ï¼" },
                };

                this.adminData = {
                    templates: [
                        {
                            id: "1",
                            name: "å¤§é›¨ç‰¹åˆ¥è­¦å ±ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ",
                            type: "heavyRainSpecial",
                            message: "å‘½ã‚’å®ˆã‚‹è¡Œå‹•ã‚’ï¼",
                            targetArea: "å…¨å›½",
                            backgroundColor: "#dc2626",
                            textColor: "#ffffff",
                            usage: 245,
                            lastUsed: "2024-01-15",
                            status: "active",
                            createdAt: "2024-01-01",
                            updatedAt: "2024-01-01",
                        },
                        {
                            id: "2",
                            name: "æ´¥æ³¢è­¦å ±ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ",
                            type: "tsunami",
                            message: "ç›´ã¡ã«é«˜å°ã¸é¿é›£ã‚’ï¼",
                            targetArea: "æ²¿å²¸éƒ¨",
                            backgroundColor: "#0891b2",
                            textColor: "#ffffff",
                            usage: 89,
                            lastUsed: "2024-01-10",
                            status: "active",
                            createdAt: "2024-01-02",
                            updatedAt: "2024-01-02",
                        },
                    ],
                    users: [
                        {
                            id: "1",
                            name: "ç”°ä¸­å¤ªéƒ",
                            email: "tanaka@example.com",
                            role: "admin",
                            lastActive: "2024-01-15",
                            alertsCreated: 45,
                            createdAt: "2024-01-01",
                            updatedAt: "2024-01-01",
                        },
                        {
                            id: "2",
                            name: "ä½è—¤èŠ±å­",
                            email: "sato@example.com",
                            role: "editor",
                            lastActive: "2024-01-14",
                            alertsCreated: 32,
                            createdAt: "2024-01-02",
                            updatedAt: "2024-01-02",
                        },
                    ],
                    settings: {
                        systemName: "è­¦å ±ç”»åƒä½œæˆã‚·ã‚¹ãƒ†ãƒ ",
                        maxUsers: 100,
                        storageLimit: 50,
                        emailNotifications: "admin@example.com",
                        alertThreshold: 1000,
                        backupFrequency: "æ¯æ—¥",
                        lastBackup: null,
                        updatedAt: new Date().toISOString(),
                    },
                };

                this.isAdminAuthenticated = false;
                this.searchQuery = "";

                this.init();
            }

            init() {
                this.loadData();
                this.setupEventListeners();
                this.checkAdminAuth();
                this.drawAlert();
            }

            // ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
            loadData() {
                const savedTemplates = localStorage.getItem("adminTemplates");
                const savedUsers = localStorage.getItem("adminUsers");
                const savedSettings = localStorage.getItem("adminSettings");

                if (savedTemplates) {
                    this.adminData.templates = JSON.parse(savedTemplates);
                }

                if (savedUsers) {
                    this.adminData.users = JSON.parse(savedUsers);
                }

                if (savedSettings) {
                    this.adminData.settings = JSON.parse(savedSettings);
                }
            }

            // ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜
            saveData() {
                try {
                    localStorage.setItem("adminTemplates", JSON.stringify(this.adminData.templates));
                    localStorage.setItem("adminUsers", JSON.stringify(this.adminData.users));
                    localStorage.setItem("adminSettings", JSON.stringify(this.adminData.settings));
                } catch (error) {
                    console.error("ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ", error);
                    this.showToast("ã‚¨ãƒ©ãƒ¼", "ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ", "error");
                }
            }

            // ç®¡ç†è€…èªè¨¼ãƒã‚§ãƒƒã‚¯
            checkAdminAuth() {
                const isAuthenticated = localStorage.getItem("adminAuthenticated") === "true";
                const loginTime = localStorage.getItem("adminLoginTime");

                if (isAuthenticated && loginTime) {
                    const now = Date.now();
                    const loginTimestamp = parseInt(loginTime);
                    const sessionDuration = 24 * 60 * 60 * 1000; // 24æ™‚é–“

                    if (now - loginTimestamp < sessionDuration) {
                        this.isAdminAuthenticated = true;
                        this.showAdminDashboard();
                    } else {
                        localStorage.removeItem("adminAuthenticated");
                        localStorage.removeItem("adminLoginTime");
                        this.isAdminAuthenticated = false;
                    }
                }
            }

            // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®è¨­å®š
            setupEventListeners() {
                // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ãƒ–
                document.querySelectorAll(".nav-tab").forEach((tab) => {
                    tab.addEventListener("click", (e) => {
                        const tabName = e.currentTarget.dataset.tab;
                        this.switchMainTab(tabName);
                    });
                });

                // è¨­å®šã‚¿ãƒ–
                document.querySelectorAll("[data-settings-tab]").forEach((tab) => {
                    tab.addEventListener("click", (e) => {
                        const tabName = e.currentTarget.dataset.settingsTab;
                        this.switchSettingsTab(tabName);
                    });
                });

                // ç®¡ç†ã‚¿ãƒ–
                document.querySelectorAll("[data-admin-tab]").forEach((tab) => {
                    tab.addEventListener("click", (e) => {
                        const tabName = e.currentTarget.dataset.adminTab;
                        this.switchAdminTab(tabName);
                    });
                });

                // ãƒ•ã‚©ãƒ¼ãƒ è¦ç´ 
                document.getElementById("alert-type").addEventListener("change", (e) => {
                    this.handleAlertTypeChange(e.target.value);
                });

                document.getElementById("target-area").addEventListener("input", (e) => {
                    this.config.targetArea = e.target.value;
                    this.drawAlert();
                });

                document.getElementById("message").addEventListener("input", (e) => {
                    this.config.message = e.target.value;
                    this.drawAlert();
                });

                document.getElementById("credit").addEventListener("input", (e) => {
                    this.config.credit = e.target.value;
                    this.drawAlert();
                });

                // è‰²è¨­å®š
                document.getElementById("bg-color").addEventListener("change", (e) => {
                    this.config.backgroundColor = e.target.value;
                    document.getElementById("bg-color-text").value = e.target.value;
                    this.drawAlert();
                });

                document.getElementById("bg-color-text").addEventListener("input", (e) => {
                    this.config.backgroundColor = e.target.value;
                    document.getElementById("bg-color").value = e.target.value;
                    this.drawAlert();
                });

                document.getElementById("text-color").addEventListener("change", (e) => {
                    this.config.textColor = e.target.value;
                    document.getElementById("text-color-text").value = e.target.value;
                    this.drawAlert();
                });

                document.getElementById("text-color-text").addEventListener("input", (e) => {
                    this.config.textColor = e.target.value;
                    document.getElementById("text-color").value = e.target.value;
                    this.drawAlert();
                });

                // ãƒœã‚¿ãƒ³
                document.getElementById("download-btn").addEventListener("click", () => {
                    this.downloadImage();
                });

                document.getElementById("share-btn").addEventListener("click", () => {
                    this.showShareModal();
                });

                // ãƒ­ã‚°ã‚¤ãƒ³
                document.getElementById("login-form").addEventListener("submit", (e) => {
                    e.preventDefault();
                    this.handleLogin();
                });

                document.getElementById("toggle-password").addEventListener("click", () => {
                    this.togglePasswordVisibility();
                });

                // ç®¡ç†æ©Ÿèƒ½
                document.getElementById("logout-btn").addEventListener("click", () => {
                    this.handleLogout();
                });

                document.getElementById("export-btn").addEventListener("click", () => {
                    this.exportData();
                });

                document.getElementById("import-btn").addEventListener("click", () => {
                    document.getElementById("import-file").click();
                });

                document.getElementById("import-file").addEventListener("change", (e) => {
                    this.importData(e);
                });

                // æ¤œç´¢
                document.getElementById("search-input").addEventListener("input", (e) => {
                    this.searchQuery = e.target.value;
                    this.updateSearchUI();
                    this.renderTables();
                });

                document.getElementById("clear-search").addEventListener("click", () => {
                    this.searchQuery = "";
                    document.getElementById("search-input").value = "";
                    this.updateSearchUI();
                    this.renderTables();
                });

                // ãƒ¢ãƒ¼ãƒ€ãƒ«
                document.querySelectorAll(".modal-close").forEach((btn) => {
                    btn.addEventListener("click", () => {
                        this.hideModal();
                    });
                });

                document.querySelectorAll(".modal").forEach((modal) => {
                    modal.addEventListener("click", (e) => {
                        if (e.target === modal) {
                            this.hideModal();
                        }
                    });
                });

                // å…±æœ‰ãƒœã‚¿ãƒ³
                document.getElementById("share-twitter").addEventListener("click", () => {
                    this.shareToTwitter();
                });

                document.getElementById("share-facebook").addEventListener("click", () => {
                    this.shareToFacebook();
                });

                document.getElementById("share-line").addEventListener("click", () => {
                    this.shareToLine();
                });

                document.getElementById("share-email").addEventListener("click", () => {
                    this.shareByEmail();
                });

                // æ–°è¦è¿½åŠ ãƒœã‚¿ãƒ³
                document.getElementById("add-template-btn").addEventListener("click", () => {
                    this.showModal("æ–°è¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ", this.createTemplateForm());
                });

                document.getElementById("add-user-btn").addEventListener("click", () => {
                    this.showModal("æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ", this.createUserForm());
                });

                // è¨­å®šä¿å­˜ãƒœã‚¿ãƒ³
                document.getElementById("save-basic-settings").addEventListener("click", () => {
                    this.saveBasicSettings();
                });

                document.getElementById("save-notification-settings").addEventListener("click", () => {
                    this.saveNotificationSettings();
                });
            }

            // ãƒ¡ã‚¤ãƒ³ã‚¿ãƒ–ã®åˆ‡ã‚Šæ›¿ãˆ
            switchMainTab(tabName) {
                document.querySelectorAll(".nav-tab").forEach((tab) => {
                    tab.classList.remove("active");
                });
                document.querySelectorAll(".tab-content").forEach((content) => {
                    content.classList.remove("active");
                });

                document.querySelector(`[data-tab="${tabName}"]`).classList.add("active");
                document.getElementById(tabName).classList.add("active");

                if (tabName === "admin" && this.isAdminAuthenticated) {
                    this.renderAdminDashboard();
                }
            }

            // è¨­å®šã‚¿ãƒ–ã®åˆ‡ã‚Šæ›¿ãˆ
            switchSettingsTab(tabName) {
                document.querySelectorAll("[data-settings-tab]").forEach((tab) => {
                    tab.classList.remove("active");
                });
                document.querySelectorAll(".tab-panel").forEach((panel) => {
                    panel.classList.remove("active");
                });

                document.querySelector(`[data-settings-tab="${tabName}"]`).classList.add("active");
                document.getElementById(tabName).classList.add("active");
            }

            // ç®¡ç†ã‚¿ãƒ–ã®åˆ‡ã‚Šæ›¿ãˆ
            switchAdminTab(tabName) {
                document.querySelectorAll(".admin-tab").forEach((tab) => {
                    tab.classList.remove("active");
                });
                document.querySelectorAll(".admin-tab-panel").forEach((panel) => {
                    panel.classList.remove("active");
                });

                document.querySelector(`[data-admin-tab="${tabName}"]`).classList.add("active");
                document.getElementById(tabName).classList.add("active");

                this.renderTables();
            }

            // è­¦å ±ã‚¿ã‚¤ãƒ—å¤‰æ›´å‡¦ç†
            handleAlertTypeChange(value) {
                const alertTypeInfo = this.alertTypes[value];
                this.config.type = value;
                this.config.backgroundColor = alertTypeInfo.color;
                this.config.message = alertTypeInfo.defaultMessage;

                // UIã®æ›´æ–°
                document.getElementById("bg-color").value = alertTypeInfo.color;
                document.getElementById("bg-color-text").value = alertTypeInfo.color;
                document.getElementById("message").value = alertTypeInfo.defaultMessage;

                this.drawAlert();
            }

            // æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆã®åˆ†å‰²
            segmentJapaneseText(text) {
                const locationSuffixes = [
                    "éƒ½", "é“", "åºœ", "çœŒ", "å¸‚", "åŒº", "ç”º", "æ‘", "éƒ¡", "å³¶", "åŠå³¶", "å±±", "å·", "æ¹–", "æµ·", "æ¹¾", "ä¸ç›®", "ç•ªåœ°", "å·",
                ];
                const separators = [" ", "ã€€", "ãƒ»", "ã€", "ï¼Œ", ",", "åŠã³", "ãŠã‚ˆã³", "ã¨"];

                const segments = [];
                let currentSegment = "";

                for (let i = 0; i < text.length; i++) {
                    const char = text[i];
                    currentSegment += char;

                    if (separators.includes(char)) {
                        if (currentSegment.trim()) {
                            segments.push(currentSegment.trim());
                        }
                        currentSegment = "";
                        continue;
                    }

                    if (locationSuffixes.includes(char)) {
                        const nextChar = text[i + 1];
                        if (!nextChar || !locationSuffixes.includes(nextChar)) {
                            if (currentSegment.trim()) {
                                segments.push(currentSegment.trim());
                            }
                            currentSegment = "";
                        }
                    }
                }

                if (currentSegment.trim()) {
                    segments.push(currentSegment.trim());
                }

                return segments.filter((segment) => segment.length > 0);
            }

            // ãƒ†ã‚­ã‚¹ãƒˆã®æŠ˜ã‚Šè¿”ã—å‡¦ç†
            wrapTextByWords(ctx, text, maxWidth) {
                const segments = this.segmentJapaneseText(text);
                const lines = [];
                let currentLine = "";

                for (const segment of segments) {
                    const testLine = currentLine + segment;
                    const metrics = ctx.measureText(testLine);

                    if (metrics.width > maxWidth && currentLine !== "") {
                        lines.push(currentLine.trim());
                        currentLine = segment;
                    } else {
                        currentLine = testLine;
                    }
                }

                if (currentLine.trim() !== "") {
                    lines.push(currentLine.trim());
                }

                const finalLines = [];
                for (const line of lines) {
                    const lineWidth = ctx.measureText(line).width;
                    if (lineWidth > maxWidth) {
                        const charLines = this.wrapTextByChars(ctx, line, maxWidth);
                        finalLines.push(...charLines);
                    } else {
                        finalLines.push(line);
                    }
                }

                return finalLines.length > 0 ? finalLines : [text];
            }

            // æ–‡å­—å˜ä½ã§ã®æŠ˜ã‚Šè¿”ã—
            wrapTextByChars(ctx, text, maxWidth) {
                const lines = [];
                let currentLine = "";

                for (const char of text) {
                    const testLine = currentLine + char;
                    const metrics = ctx.measureText(testLine);

                    if (metrics.width > maxWidth && currentLine !== "") {
                        lines.push(currentLine);
                        currentLine = char;
                    } else {
                        currentLine = testLine;
                    }
                }

                if (currentLine !== "") {
                    lines.push(currentLine);
                }

                return lines.length > 0 ? lines : [text];
            }

            // ã‚¨ãƒªã‚¢ãƒ†ã‚­ã‚¹ãƒˆã®å‡¦ç†
            processAreaText(ctx, areaText, maxWidth) {
                const inputLines = areaText.split("\n").filter((line) => line.trim() !== "");
                const processedLines = [];

                for (const line of inputLines) {
                    const wrappedLines = this.wrapTextByWords(ctx, line.trim(), maxWidth);
                    processedLines.push(...wrappedLines);
                }

                return processedLines;
            }

            // è‰²ã®èª¿æ•´
            adjustColor(hex, amount) {
                let r = parseInt(hex.substring(1, 3), 16);
                let g = parseInt(hex.substring(3, 5), 16);
                let b = parseInt(hex.substring(5, 7), 16);

                r = Math.max(0, Math.min(255, r + amount));
                g = Math.max(0, Math.min(255, g + amount));
                b = Math.max(0, Math.min(255, b + amount));

                return `#${r.toString(16).padStart(2, "0")}${g.toString(16).padStart(2, "0")}${b.toString(16).padStart(2, "0")}`;
            }

            // è­¦å ±ç”»åƒã®æç”»
            drawAlert() {
                const canvas = document.getElementById("alert-canvas");
                if (!canvas) return;

                const ctx = canvas.getContext("2d");
                if (!ctx) return;

                canvas.width = 2060;
                canvas.height = 1456;

                // èƒŒæ™¯è‰²
                ctx.fillStyle = this.config.backgroundColor;
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // ãŠã—ã‚ƒã‚ŒãªèƒŒæ™¯åŠ¹æœ
                const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
                gradient.addColorStop(0, this.config.backgroundColor);
                gradient.addColorStop(0.5, this.adjustColor(this.config.backgroundColor, -20));
                gradient.addColorStop(1, this.adjustColor(this.config.backgroundColor, -40));
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // å¾®å¦™ãªãƒ‘ã‚¿ãƒ¼ãƒ³åŠ¹æœ
                ctx.globalAlpha = 0.03;
                for (let i = 0; i < 30; i++) {
                    const x = Math.random() * canvas.width;
                    const y = Math.random() * canvas.height;
                    const radius = Math.random() * 150 + 50;
                    ctx.beginPath();
                    ctx.arc(x, y, radius, 0, Math.PI * 2);
                    ctx.fillStyle = "#ffffff";
                    ctx.fill();
                }
                ctx.globalAlpha = 1.0;

                let currentY = 150;

                // è­¦å ±å
                const selectedType = this.alertTypes[this.config.type];
                const alertName = selectedType.label;

                ctx.fillStyle = this.config.textColor;
                ctx.font = "bold 180px sans-serif";
                ctx.textAlign = "center";
                ctx.textBaseline = "middle";

                // ãƒ†ã‚­ã‚¹ãƒˆã«å½±ã‚’è¿½åŠ 
                ctx.shadowColor = "rgba(0, 0, 0, 0.3)";
                ctx.shadowBlur = 10;
                ctx.shadowOffsetX = 3;
                ctx.shadowOffsetY = 3;

                ctx.fillText(alertName, canvas.width / 2, currentY);
                currentY += 180;

                // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
                ctx.font = "bold 100px sans-serif";
                ctx.textBaseline = "middle";
                const messageLines = this.config.message.split("\n");
                messageLines.forEach((line) => {
                    ctx.fillText(line, canvas.width / 2, currentY);
                    currentY += 120;
                });
                currentY += 40;

                // å½±ã‚’ãƒªã‚»ãƒƒãƒˆ
                ctx.shadowColor = "transparent";
                ctx.shadowBlur = 0;
                ctx.shadowOffsetX = 0;
                ctx.shadowOffsetY = 0;

                // ç™½ã„æ¨ªç·š
                ctx.strokeStyle = this.config.textColor;
                ctx.lineWidth = 8;
                ctx.beginPath();
                ctx.moveTo(0, currentY);
                ctx.lineTo(canvas.width, currentY);
                ctx.stroke();
                currentY += 120;

                // å¯¾è±¡åœ°åŸŸã®å‡¦ç†
                const maxBoxWidth = canvas.width - 200;
                const minBoxWidth = 800;
                const horizontalPadding = 60;
                const verticalPadding = 40;
                const lineHeight = 100;

                ctx.font = "bold 80px sans-serif";

                const maxTextWidth = maxBoxWidth - horizontalPadding * 2;
                const processedLines = this.processAreaText(ctx, this.config.targetArea, maxTextWidth);

                const actualTextWidth = Math.max(...processedLines.map((line) => ctx.measureText(line).width));
                const areaBoxWidth = Math.min(maxBoxWidth, Math.max(minBoxWidth, actualTextWidth + horizontalPadding * 2));

                const lineCount = processedLines.length;
                const areaBoxHeight = lineCount * lineHeight + verticalPadding * 2;

                const areaBoxX = (canvas.width - areaBoxWidth) / 2;
                const areaBoxY = currentY - 20;
                const cornerRadius = 40;

                // ç™½ã„è§’ä¸¸ã®èƒŒæ™¯ï¼ˆæ ç·šãªã—ï¼‰
                ctx.fillStyle = "#ffffff";
                ctx.beginPath();
                ctx.roundRect(areaBoxX, areaBoxY, areaBoxWidth, areaBoxHeight, cornerRadius);
                ctx.fill();

                // å¯¾è±¡åœ°åŸŸã®ãƒ†ã‚­ã‚¹ãƒˆï¼ˆé»’æ–‡å­—ï¼‰
                ctx.fillStyle = "#000000";
                ctx.font = "bold 80px sans-serif";
                ctx.textAlign = "center";
                ctx.textBaseline = "middle";

                const startY = areaBoxY + verticalPadding + lineHeight / 2;
                processedLines.forEach((line, index) => {
                    const textY = startY + index * lineHeight;
                    ctx.fillText(line, canvas.width / 2, textY);
                });

                currentY = areaBoxY + areaBoxHeight + 60;

                // ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆ
                ctx.fillStyle = this.config.textColor;
                ctx.font = "40px sans-serif";
                ctx.textAlign = "left";
                ctx.fillText(this.config.credit, 40, canvas.height - 40);
            }

            // ç”»åƒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
            downloadImage() {
                const canvas = document.getElementById("alert-canvas");
                if (!canvas) return;

                const link = document.createElement("a");
                link.download = `alert-${this.config.type}-${Date.now()}.png`;
                link.href = canvas.toDataURL("image/png", 1.0);
                link.click();

                this.showToast("ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å®Œäº†", "è­¦å ±ç”»åƒã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã—ãŸ");
            }

            // å…±æœ‰URLç”Ÿæˆ
            generateShareUrl() {
                const params = new URLSearchParams({
                    type: this.config.type,
                    message: this.config.message,
                    area: this.config.targetArea,
                    bg: this.config.backgroundColor,
                    text: this.config.textColor,
                });
                return `${window.location.origin}${window.location.pathname}?${params.toString()}`;
            }

            // å…±æœ‰ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
            showShareModal() {
                document.getElementById("share-modal").classList.add("show");
            }

            // Twitterå…±æœ‰
            shareToTwitter() {
                const url = this.generateShareUrl();
                const text = `${this.config.message} - ${this.config.targetArea}ã®è­¦å ±ç”»åƒã‚’ä½œæˆã—ã¾ã—ãŸ`;
                window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`);
            }

            // Facebookå…±æœ‰
            shareToFacebook() {
                const url = this.generateShareUrl();
                window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`);
            }

            // LINEå…±æœ‰
            shareToLine() {
                const url = this.generateShareUrl();
                const text = `${this.config.message} - ${this.config.targetArea}ã®è­¦å ±ç”»åƒ`;
                window.open(
                    `https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`
                );
            }

            // ãƒ¡ãƒ¼ãƒ«å…±æœ‰
            shareByEmail() {
                const url = this.generateShareUrl();
                const subject = `è­¦å ±ç”»åƒ: ${this.config.message}`;
                const body = `${this.config.targetArea}ã®è­¦å ±ç”»åƒã‚’å…±æœ‰ã—ã¾ã™ã€‚\n\nè©³ç´°: ${url}`;
                window.open(`mailto:?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`);
            }

            // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
            togglePasswordVisibility() {
                const passwordInput = document.getElementById("admin-password");
                const toggleBtn = document.getElementById("toggle-password");
                const icon = toggleBtn.querySelector("i");

                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    icon.className = "fas fa-eye-slash";
                } else {
                    passwordInput.type = "password";
                    icon.className = "fas fa-eye";
                }
            }

            // ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†
            async handleLogin() {
                const password = document.getElementById("admin-password").value;
                const loginBtn = document.getElementById("login-btn");

                loginBtn.textContent = "èªè¨¼ä¸­...";
                loginBtn.disabled = true;

                // ç°¡å˜ãªé…å»¶ã§ãƒªã‚¢ãƒ«ãªèªè¨¼ä½“é¨“ã‚’æ¼”å‡º
                await new Promise((resolve) => setTimeout(resolve, 1000));

                if (password === "admin2024") {
                    localStorage.setItem("adminAuthenticated", "true");
                    localStorage.setItem("adminLoginTime", Date.now().toString());

                    this.isAdminAuthenticated = true;
                    this.showAdminDashboard();
                    this.showToast("ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ", "ç®¡ç†ç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã—ãŸ");
                } else {
                    this.showToast("ãƒ­ã‚°ã‚¤ãƒ³å¤±æ•—", "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“", "error");
                }

                loginBtn.textContent = "ãƒ­ã‚°ã‚¤ãƒ³";
                loginBtn.disabled = false;
                document.getElementById("admin-password").value = "";
            }

            // ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå‡¦ç†
            handleLogout() {
                localStorage.removeItem("adminAuthenticated");
                localStorage.removeItem("adminLoginTime");
                this.isAdminAuthenticated = false;
                this.showAdminLogin();
                this.showToast("ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸ", "ç®¡ç†ç”»é¢ã‹ã‚‰ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸ");
            }

            // ç®¡ç†ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢è¡¨ç¤º
            showAdminLogin() {
                document.getElementById("admin-login").style.display = "flex";
                document.getElementById("admin-dashboard").style.display = "none";
            }

            // ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤º
            showAdminDashboard() {
                document.getElementById("admin-login").style.display = "none";
                document.getElementById("admin-dashboard").style.display = "block";
                this.renderAdminDashboard();
            }

            // ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
            renderAdminDashboard() {
                this.updateStats();
                this.renderTables();
            }

            // çµ±è¨ˆã®æ›´æ–°
            updateStats() {
                const stats = {
                    totalTemplates: this.adminData.templates.length,
                    activeTemplates: this.adminData.templates.filter((t) => t.status === "active").length,
                    totalUsers: this.adminData.users.length,
                    adminUsers: this.adminData.users.filter((u) => u.role === "admin").length,
                    totalUsage: this.adminData.templates.reduce((sum, t) => sum + t.usage, 0),
                    totalAlerts: this.adminData.users.reduce((sum, u) => sum + u.alertsCreated, 0),
                };

                document.getElementById("total-templates").textContent = stats.totalTemplates;
                document.getElementById("active-templates").textContent = stats.activeTemplates;
                document.getElementById("total-users").textContent = stats.totalUsers;
                document.getElementById("admin-users").textContent = stats.adminUsers;
                document.getElementById("total-usage").textContent = stats.totalUsage.toLocaleString();
                document.getElementById("total-alerts").textContent = stats.totalAlerts.toLocaleString();
            }

            // ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
            renderTables() {
                this.renderTemplatesTable();
                this.renderUsersTable();
            }

            // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
            renderTemplatesTable() {
                const tbody = document.getElementById("templates-table");
                const filteredTemplates = this.adminData.templates.filter(
                    (template) =>
                        template.name.toLowerCase().includes(this.searchQuery.toLowerCase()) ||
                        template.type.toLowerCase().includes(this.searchQuery.toLowerCase()) ||
                        template.message.toLowerCase().includes(this.searchQuery.toLowerCase()) ||
                        template.targetArea.toLowerCase().includes(this.searchQuery.toLowerCase())
                );

                tbody.innerHTML = "";

                if (filteredTemplates.length === 0) {
                    tbody.innerHTML = `
                        <tr>
                            <td colspan="6" style="text-align: center; padding: 2rem; color: #64748b;">
                                ${this.searchQuery ? "æ¤œç´¢æ¡ä»¶ã«ä¸€è‡´ã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒã‚ã‚Šã¾ã›ã‚“" : "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒã‚ã‚Šã¾ã›ã‚“"}
                            </td>
                        </tr>
                    `;
                    return;
                }

                filteredTemplates.forEach((template) => {
                    const row = document.createElement("tr");
                    row.innerHTML = `
                        <td style="font-weight: 600;">${template.name}</td>
                        <td>${template.type}</td>
                        <td>${template.usage.toLocaleString()}</td>
                        <td>${template.lastUsed}</td>
                        <td><span class="status-badge status-${template.status}">${template.status}</span></td>
                        <td>
                            <div class="actions">
                                <button class="btn btn-outline" onclick="app.editTemplate('${template.id}')" title="ç·¨é›†">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-outline btn-danger" onclick="app.deleteTemplate('${template.id}')" title="å‰Šé™¤">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </td>
                    `;
                    tbody.appendChild(row);
                });
            }

            // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
            renderUsersTable() {
                const tbody = document.getElementById("users-table");
                const filteredUsers = this.adminData.users.filter(
                    (user) =>
                        user.name.toLowerCase().includes(this.searchQuery.toLowerCase()) ||
                        user.email.toLowerCase().includes(this.searchQuery.toLowerCase()) ||
                        user.role.toLowerCase().includes(this.searchQuery.toLowerCase())
                );

                tbody.innerHTML = "";

                if (filteredUsers.length === 0) {
                    tbody.innerHTML = `
                        <tr>
                            <td colspan="6" style="text-align: center; padding: 2rem; color: #64748b;">
                                ${this.searchQuery ? "æ¤œç´¢æ¡ä»¶ã«ä¸€è‡´ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚ã‚Šã¾ã›ã‚“" : "ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚ã‚Šã¾ã›ã‚“"}
                            </td>
                        </tr>
                    `;
                    return;
                }

                filteredUsers.forEach((user) => {
                    const row = document.createElement("tr");
                    row.innerHTML = `
                        <td style="font-weight: 600;">${user.name}</td>
                        <td>${user.email}</td>
                        <td><span class="status-badge role-${user.role}">${user.role}</span></td>
                        <td>${user.lastActive}</td>
                        <td>${user.alertsCreated}</td>
                        <td>
                            <div class="actions">
                                <button class="btn btn-outline" onclick="app.editUser('${user.id}')" title="ç·¨é›†">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-outline btn-danger" onclick="app.deleteUser('${user.id}')" title="å‰Šé™¤">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </td>
                    `;
                    tbody.appendChild(row);
                });
            }

            // æ¤œç´¢UIã®æ›´æ–°
            updateSearchUI() {
                const clearBtn = document.getElementById("clear-search");
                if (this.searchQuery) {
                    clearBtn.style.display = "block";
                } else {
                    clearBtn.style.display = "none";
                }
            }

            // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç·¨é›†
            editTemplate(id) {
                const template = this.adminData.templates.find((t) => t.id === id);
                if (!template) return;

                this.showModal("ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç·¨é›†", this.createTemplateForm(template));
            }

            // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‰Šé™¤
            deleteTemplate(id) {
                if (confirm("ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿã“ã®æ“ä½œã¯å…ƒã«æˆ»ã›ã¾ã›ã‚“ã€‚")) {
                    const template = this.adminData.templates.find((t) => t.id === id);
                    this.adminData.templates = this.adminData.templates.filter((t) => t.id !== id);
                    this.saveData();
                    this.renderTables();
                    this.updateStats();
                    this.showToast("å‰Šé™¤å®Œäº†", `${template?.name}ã‚’å‰Šé™¤ã—ã¾ã—ãŸ`);
                }
            }

            // ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†
            editUser(id) {
                const user = this.adminData.users.find((u) => u.id === id);
                if (!user) return;

                this.showModal("ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†", this.createUserForm(user));
            }

            // ãƒ¦ãƒ¼ã‚¶ãƒ¼å‰Šé™¤
            deleteUser(id) {
                if (confirm("ã“ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿã“ã®æ“ä½œã¯å…ƒã«æˆ»ã›ã¾ã›ã‚“ã€‚")) {
                    const user = this.adminData.users.find((u) => u.id === id);
                    this.adminData.users = this.adminData.users.filter((u) => u.id !== id);
                    this.saveData();
                    this.renderTables();
                    this.updateStats();
                    this.showToast("å‰Šé™¤å®Œäº†", `${user?.name}ã‚’å‰Šé™¤ã—ã¾ã—ãŸ`);
                }
            }

            // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ãƒ ä½œæˆ
            createTemplateForm(template = null) {
                const isEdit = template !== null;
                const formData = template || {
                    name: "",
                    type: "heavyRainSpecial",
                    message: "",
                    targetArea: "",
                    backgroundColor: "#dc2626",
                    textColor: "#ffffff",
                    status: "active",
                };

                return `
                    <form id="template-form">
                        <div class="form-group">
                            <label for="template-name">ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå</label>
                            <input type="text" id="template-name" class="form-control" value="${formData.name}" required>
                        </div>
                        <div class="form-group">
                            <label for="template-type">ç¨®é¡</label>
                            <input type="text" id="template-type" class="form-control" value="${formData.type}" required>
                        </div>
                        <div class="form-group">
                            <label for="template-message">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</label>
                            <textarea id="template-message" class="form-control" rows="3" required>${formData.message}</textarea>
                        </div>
                        <div class="form-group">
                            <label for="template-area">å¯¾è±¡åœ°åŸŸ</label>
                            <input type="text" id="template-area" class="form-control" value="${formData.targetArea}" required>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <div class="form-group">
                                <label for="template-bg">èƒŒæ™¯è‰²</label>
                                <div class="color-input-group">
                                    <input type="color" id="template-bg" value="${formData.backgroundColor}">
                                    <input type="text" id="template-bg-text" class="form-control" value="${formData.backgroundColor}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="template-text">æ–‡å­—è‰²</label>
                                <div class="color-input-group">
                                    <input type="color" id="template-text" value="${formData.textColor}">
                                    <input type="text" id="template-text-text" class="form-control" value="${formData.textColor}">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="template-status">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</label>
                            <select id="template-status" class="form-control">
                                <option value="active" ${formData.status === "active" ? "selected" : ""}>ã‚¢ã‚¯ãƒ†ã‚£ãƒ–</option>
                                <option value="draft" ${formData.status === "draft" ? "selected" : ""}>ä¸‹æ›¸ã</option>
                                <option value="archived" ${formData.status === "archived" ? "selected" : ""}>ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                            <button type="submit" class="btn btn-primary" style="flex: 1;">
                                <i class="fas fa-save"></i>
                                ä¿å­˜
                            </button>
                            <button type="button" class="btn btn-outline" onclick="app.hideModal()">
                                <i class="fas fa-times"></i>
                                ã‚­ãƒ£ãƒ³ã‚»ãƒ«
                            </button>
                        </div>
                    </form>
                `;
            }

            // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ ä½œæˆ
            createUserForm(user = null) {
                const isEdit = user !== null;
                const formData = user || {
                    name: "",
                    email: "",
                    role: "viewer",
                };

                return `
                    <form id="user-form">
                        <div class="form-group">
                            <label for="user-name">ãƒ¦ãƒ¼ã‚¶ãƒ¼å</label>
                            <input type="text" id="user-name" class="form-control" value="${formData.name}" required>
                        </div>
                        <div class="form-group">
                            <label for="user-email">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
                            <input type="email" id="user-email" class="form-control" value="${formData.email}" required>
                        </div>
                        <div class="form-group">
                            <label for="user-role">æ¨©é™</label>
                            <select id="user-role" class="form-control">
                                <option value="admin" ${formData.role === "admin" ? "selected" : ""}>ç®¡ç†è€…</option>
                                <option value="editor" ${formData.role === "editor" ? "selected" : ""}>ç·¨é›†è€…</option>
                                <option value="viewer" ${formData.role === "viewer" ? "selected" : ""}>é–²è¦§è€…</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                            <button type="submit" class="btn btn-primary" style="flex: 1;">
                                <i class="fas fa-save"></i>
                                ä¿å­˜
                            </button>
                            <button type="button" class="btn btn-outline" onclick="app.hideModal()">
                                <i class="fas fa-times"></i>
                                ã‚­ãƒ£ãƒ³ã‚»ãƒ«
                            </button>
                        </div>
                    </form>
                `;
            }

            // ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
            exportData() {
                try {
                    const exportData = {
                        templates: this.adminData.templates,
                        users: this.adminData.users,
                        settings: this.adminData.settings,
                        exportDate: new Date().toISOString(),
                    };

                    const dataStr = JSON.stringify(exportData, null, 2);
                    const dataUri = `data:application/json;charset=utf-8,${encodeURIComponent(dataStr)}`;

                    const exportFileName = `alert-system-export-${new Date().toISOString().split("T")[0]}.json`;

                    const linkElement = document.createElement("a");
                    linkElement.setAttribute("href", dataUri);
                    linkElement.setAttribute("download", exportFileName);
                    linkElement.click();

                    this.showToast("ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå®Œäº†", "ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸ");
                } catch (error) {
                    console.error("ãƒ‡ãƒ¼ã‚¿ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ", error);
                    this.showToast("ã‚¨ãƒ©ãƒ¼", "ãƒ‡ãƒ¼ã‚¿ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ", "error");
                }
            }

            // ãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
            importData(event) {
                try {
                    const file = event.target.files?.[0];
                    if (!file) {
                        this.showToast("ã‚¨ãƒ©ãƒ¼", "ãƒ•ã‚¡ã‚¤ãƒ«ãŒé¸æŠã•ã‚Œã¦ã„ã¾ã›ã‚“", "error");
                        return;
                    }

                    const reader = new FileReader();
                    reader.onload = (e) => {
                        try {
                            const content = e.target?.result;
                            const importedData = JSON.parse(content);

                            if (importedData.templates && Array.isArray(importedData.templates)) {
                                this.adminData.templates = importedData.templates;
                            }

                            if (importedData.users && Array.isArray(importedData.users)) {
                                this.adminData.users = importedData.users;
                            }

                            if (importedData.settings) {
                                this.adminData.settings = {
                                    ...importedData.settings,
                                    updatedAt: new Date().toISOString(),
                                };
                            }

                            this.saveData();
                            this.renderAdminDashboard();
                            this.showToast("ã‚¤ãƒ³ãƒãƒ¼ãƒˆå®Œäº†", "ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸ");
                        } catch (error) {
                            console.error("ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã®è§£æã«å¤±æ•—ã—ã¾ã—ãŸ", error);
                            this.showToast("ã‚¨ãƒ©ãƒ¼", "ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã®å½¢å¼ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“", "error");
                        }
                    };

                    reader.readAsText(file);
                } catch (error) {
                    console.error("ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ", error);
                    this.showToast("ã‚¨ãƒ©ãƒ¼", "ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ", "error");
                } finally {
                    // ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠã‚’ãƒªã‚»ãƒƒãƒˆ
                    event.target.value = "";
                }
            }

            // ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
            showModal(title, content) {
                document.getElementById("modal-title").textContent = title;
                document.getElementById("modal-body").innerHTML = content;
                document.getElementById("modal").classList.add("show");

                // ãƒ•ã‚©ãƒ¼ãƒ ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¨­å®š
                const form = document.querySelector("#modal form");
                if (form) {
                    form.addEventListener("submit", (e) => {
                        e.preventDefault();
                        this.handleFormSubmit(form);
                    });
                }
            }

            // ãƒ¢ãƒ¼ãƒ€ãƒ«éè¡¨ç¤º
            hideModal() {
                document.querySelectorAll(".modal").forEach((modal) => {
                    modal.classList.remove("show");
                });
            }

            // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡å‡¦ç†
            handleFormSubmit(form) {
                const formId = form.id;

                if (formId === "template-form") {
                    this.saveTemplate(form);
                } else if (formId === "user-form") {
                    this.saveUser(form);
                }
            }

            // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¿å­˜
            saveTemplate(form) {
                const templateData = {
                    name: document.getElementById("template-name").value,
                    type: document.getElementById("template-type").value,
                    message: document.getElementById("template-message").value,
                    targetArea: document.getElementById("template-area").value,
                    backgroundColor: document.getElementById("template-bg").value,
                    textColor: document.getElementById("template-text").value,
                    status: document.getElementById("template-status").value,
                };

                // æ—¢å­˜ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ç·¨é›†ã‹æ–°è¦ä½œæˆã‹ã‚’åˆ¤å®š
                const existingTemplate = this.adminData.templates.find((t) => t.name === templateData.name);

                if (existingTemplate) {
                    // ç·¨é›†
                    Object.assign(existingTemplate, templateData, {
                        updatedAt: new Date().toISOString(),
                    });
                    this.showToast("æ›´æ–°å®Œäº†", `${templateData.name}ã‚’æ›´æ–°ã—ã¾ã—ãŸ`);
                } else {
                    // æ–°è¦ä½œæˆ
                    const newTemplate = {
                        ...templateData,
                        id: Date.now().toString(),
                        usage: 0,
                        lastUsed: new Date().toISOString().split("T")[0],
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString(),
                    };
                    this.adminData.templates.push(newTemplate);
                    this.showToast("ä½œæˆå®Œäº†", `${templateData.name}ã‚’ä½œæˆã—ã¾ã—ãŸ`);
                }

                this.saveData();
                this.renderTables();
                this.updateStats();
                this.hideModal();
            }

            // ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¿å­˜
            saveUser(form) {
                const userData = {
                    name: document.getElementById("user-name").value,
                    email: document.getElementById("user-email").value,
                    role: document.getElementById("user-role").value,
                };

                // æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç·¨é›†ã‹æ–°è¦ä½œæˆã‹ã‚’åˆ¤å®š
                const existingUser = this.adminData.users.find((u) => u.email === userData.email);

                if (existingUser) {
                    // ç·¨é›†
                    Object.assign(existingUser, userData, {
                        updatedAt: new Date().toISOString(),
                    });
                    this.showToast("æ›´æ–°å®Œäº†", `${userData.name}ã‚’æ›´æ–°ã—ã¾ã—ãŸ`);
                } else {
                    // æ–°è¦ä½œæˆ
                    const newUser = {
                        ...userData,
                        id: Date.now().toString(),
                        lastActive: new Date().toISOString().split("T")[0],
                        alertsCreated: 0,
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString(),
                    };
                    this.adminData.users.push(newUser);
                    this.showToast("ä½œæˆå®Œäº†", `${userData.name}ã‚’ä½œæˆã—ã¾ã—ãŸ`);
                }

                this.saveData();
                this.renderTables();
                this.updateStats();
                this.hideModal();
            }

            // åŸºæœ¬è¨­å®šä¿å­˜
            saveBasicSettings() {
                this.adminData.settings.systemName = document.getElementById("system-name").value;
                this.adminData.settings.maxUsers = parseInt(document.getElementById("max-users").value);
                this.adminData.settings.storageLimit = parseInt(document.getElementById("storage-limit").value);
                this.adminData.settings.updatedAt = new Date().toISOString();

                this.saveData();
                this.showToast("è¨­å®šä¿å­˜", "åŸºæœ¬è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ");
            }

            // é€šçŸ¥è¨­å®šä¿å­˜
            saveNotificationSettings() {
                this.adminData.settings.emailNotifications = document.getElementById("email-notifications").value;
                this.adminData.settings.alertThreshold = parseInt(document.getElementById("alert-threshold").value);
                this.adminData.settings.backupFrequency = document.getElementById("backup-frequency").value;
                this.adminData.settings.updatedAt = new Date().toISOString();

                this.saveData();
                this.showToast("è¨­å®šä¿å­˜", "é€šçŸ¥è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ");
            }

            // ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥è¡¨ç¤º
            showToast(title, message, type = "success") {
                const toast = document.createElement("div");
                toast.className = `toast ${type === "error" ? "error" : ""}`;
                toast.innerHTML = `
                    <div class="toast-title">${title}</div>
                    <div class="toast-message">${message}</div>
                `;

                const container = document.getElementById("toast-container");
                container.appendChild(toast);

                // 3ç§’å¾Œã«è‡ªå‹•å‰Šé™¤
                setTimeout(() => {
                    toast.remove();
                }, 3000);
            }
        }

        // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–
        let app;
        document.addEventListener("DOMContentLoaded", () => {
            app = new AlertImageApp();
        });
    </script>
</body>
</html>
